name: Publish a new release

on:
  - pull_request

jobs:
  find-version:
    runs-on: ubuntu-latest
    outputs:
      version: ${{ steps.get-version.outputs.version }}
    steps:
      - id: get-version
        run: echo "::set-output name=version::$(echo ${{ github.ref }})"
  print-version:
    runs-on: ubuntu-latest
    needs: find-version
    steps:
      - run: echo "ref <${{ needs.find-version.outputs.version }}>"
